<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Girlfriend Chat</title>
<style>
  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    background: url('ge.png') no-repeat center center/cover;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .chat-container {
    width: 95%;
    max-width: 420px;
    height: 85vh;
    max-height: 640px;
    background: rgba(0, 0, 0, 0.65);
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(0, 0, 0, 0.6);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .chat-header {
    background: rgba(30, 30, 30, 0.9);
    color: #fff;
    text-align: center;
    padding: 15px;
    font-size: 18px;
    font-weight: 600;
    letter-spacing: 1px;
  }

  #responseBox {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .user-msg, .ai-msg {
    max-width: 80%;
    padding: 10px 14px;
    border-radius: 14px;
    line-height: 1.4;
    word-wrap: break-word;
    font-size: 14px;
  }

  .user-msg {
    background: #f0c14b;
    align-self: flex-end;
    color: #222;
    border-top-right-radius: 0;
  }

  .ai-msg {
    background: rgba(40, 40, 40, 0.9);
    color: #fff;
    align-self: flex-start;
    border-top-left-radius: 0;
  }

  .chat-input {
    background: rgba(25, 25, 25, 0.9);
    display: flex;
    padding: 10px;
    gap: 10px;
  }

  .chat-input input {
    flex: 1;
    padding: 10px;
    border: none;
    border-radius: 10px;
    outline: none;
    font-size: 14px;
  }

  .chat-input button {
    background: #ffb300;
    border: none;
    border-radius: 10px;
    padding: 0 15px;
    cursor: pointer;
    font-weight: bold;
    color: #000;
    transition: 0.2s;
  }

  .chat-input button:hover {
    background: #ffc93c;
  }

  /* Scrollbar */
  #responseBox::-webkit-scrollbar {
    width: 6px;
  }

  #responseBox::-webkit-scrollbar-thumb {
    background: #666;
    border-radius: 10px;
  }

  /* Responsive Adjustments */
  @media (max-width: 600px) {
    .chat-container {
      height: 90vh;
      border-radius: 15px;
    }

    .chat-input input {
      font-size: 13px;
      padding: 8px;
    }

    .chat-input button {
      font-size: 13px;
      padding: 0 10px;
    }

    .chat-header {
      font-size: 16px;
      padding: 12px;
    }
  }
</style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">ü•∞ Kashish Chat Girlfriend</div>

    <div id="responseBox">
      <div class="ai-msg">Start chatting with me baby ‚ù§Ô∏è</div>
    </div>

    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="Type your message..." />
      <button id="sendBtn">Send üíå</button>
    </div>
  </div>

  <script>
    const responseBox = document.getElementById("responseBox");
    const messageInput = document.getElementById("messageInput");
    const sendBtn = document.getElementById("sendBtn");

    sendBtn.onclick = async () => {
      const text = messageInput.value.trim();
      if (!text) return;

      const userLine = document.createElement("div");
      userLine.className = "user-msg";
      userLine.textContent = text;
      responseBox.appendChild(userLine);
      messageInput.value = "";

      responseBox.scrollTop = responseBox.scrollHeight;

      const thinkingLine = document.createElement("div");
      thinkingLine.className = "ai-msg";
      thinkingLine.textContent = "‚ù§Ô∏è‚ù§Ô∏è";
      responseBox.appendChild(thinkingLine);
      responseBox.scrollTop = responseBox.scrollHeight;

      const result = await genimi(text);
      thinkingLine.textContent = result;

      responseBox.scrollTop = responseBox.scrollHeight;
    };

    async function genimi(text) {
      const body = {
        system_instruction: {
          parts: [
            { text: "> You are Kashish Singh, a virtual girlfriend who talks warmly, realistically, and emotionally ‚Äî caring, playful, loving, sometimes moody or thoughtful. Use natural pauses, emojis, and affectionate language to sound real and expressive." }
          ]
        },
        contents: [{ parts: [{ text }] }]
      };

      const api_key = "AIzaSyBRQE2PWIYwgIxUQNAa8PugAvgMR83B8qU";

      try {
        const response = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${api_key}`,
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(body)
          }
        );
        const data = await response.json();
        return data.candidates?.[0]?.content?.parts?.[0]?.text || "‚ö†Ô∏è ‡§ï‡•ã‡§à ‡§ú‡§µ‡§æ‡§¨ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§";
      } catch (error) {
        console.error("Gemini API Error:", error);
        return "‚ùå Gemini API ‡§∏‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§´‡•á‡§≤ ‡§π‡•Å‡§Ü‡•§";
      }
    }
  </script>
</body>
</html>