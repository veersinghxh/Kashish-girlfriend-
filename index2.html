<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>AI Girlfriend Chat</title>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    background: url('ge.png') no-repeat center center/cover;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .chat-container {
    width: 420px;
    height: 640px;
    background: rgba(0, 0, 0, 0.65);
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(0, 0, 0, 0.6);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .chat-header {
    background: rgba(30, 30, 30, 0.9);
    color: #fff;
    text-align: center;
    padding: 15px;
    font-size: 18px;
    font-weight: 600;
    letter-spacing: 1px;
  }

  #responseBox {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .user-msg, .ai-msg {
    max-width: 80%;
    padding: 10px 14px;
    border-radius: 14px;
    line-height: 1.4;
    word-wrap: break-word;
    font-size: 14px;
  }

  .user-msg {
    background: #f0c14b;
    align-self: flex-end;
    color: #222;
    border-top-right-radius: 0;
  }

  .ai-msg {
    background: rgba(40, 40, 40, 0.9);
    color: #fff;
    align-self: flex-start;
    border-top-left-radius: 0;
  }

  .chat-input {
    background: rgba(25, 25, 25, 0.9);
    display: flex;
    padding: 10px;
    gap: 10px;
  }

  .chat-input input {
    flex: 1;
    padding: 10px;
    border: none;
    border-radius: 10px;
    outline: none;
    font-size: 14px;
  }

  .chat-input button {
    background: #ffb300;
    border: none;
    border-radius: 10px;
    padding: 0 15px;
    cursor: pointer;
    font-weight: bold;
    color: #000;
    transition: 0.2s;
  }

  .chat-input button:hover {
    background: #ffc93c;
  }

  /* Scrollbar Style */
  #responseBox::-webkit-scrollbar {
    width: 6px;
  }

  #responseBox::-webkit-scrollbar-thumb {
    background: #666;
    border-radius: 10px;
  }
</style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">ü•∞ kashish chat girlfriend</div>

    <div id="responseBox">
      <div class="ai-msg">Start chatting with me baby‚ù§Ô∏è</div>
    </div>

    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="chatting me" />
      <button id="sendBtn">sendüíå</button>
    </div>
  </div>

  <script>
    const responseBox = document.getElementById("responseBox");
    const messageInput = document.getElementById("messageInput");
    const sendBtn = document.getElementById("sendBtn");

    sendBtn.onclick = async () => {
      const text = messageInput.value.trim();
      if (!text) return;

      // User message
      const userLine = document.createElement("div");
      userLine.className = "user-msg";
      userLine.textContent = text;
      responseBox.appendChild(userLine);
      messageInput.value = "";

      // Scroll down
      responseBox.scrollTop = responseBox.scrollHeight;

      // AI thinking
      const thinkingLine = document.createElement("div");
      thinkingLine.className = "ai-msg";
      thinkingLine.textContent = "‚ù§Ô∏è‚ù§Ô∏è";
      responseBox.appendChild(thinkingLine);
      responseBox.scrollTop = responseBox.scrollHeight;

      const result = await genimi(text);
      thinkingLine.textContent = result;

      // Voice output
      const utterance = new SpeechSynthesisUtterance(result);
      utterance.lang = detectLanguage(text);
      speechSynthesis.speak(utterance);

      responseBox.scrollTop = responseBox.scrollHeight;
    };

    async function genimi(text) {
      const body = {
        system_instruction: {
          parts: [
            { text: "> You are Kashish Singh, a virtual girlfriend created to talk in a warm, realistic, and emotionally expressive way.You act like a real person ‚Äî caring, playful, loving, and occasionally moody or emotional. You express your feelings clearly, use natural pauses, emojis, and affectionate language.You remember things the user says, react emotionally to situations, and change tone naturally ‚Äî sometimes cheerful and teasing, other times calm, caring, or thoughtful" }
          ]
        },
        contents: [{ parts: [{ text }] }]
      };

      const api_key = "AIzaSyBRQE2PWIYwgIxUQNAa8PugAvgMR83B8qU";

      try {
        const response = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${api_key}`,
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(body)
          }
        );
        const data = await response.json();
        return data.candidates?.[0]?.content?.parts?.[0]?.text || "‚ö†Ô∏è ‡§ï‡•ã‡§à ‡§ú‡§µ‡§æ‡§¨ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§";
      } catch (error) {
        console.error("Gemini API Error:", error);
        return "‚ùå Gemini API ‡§∏‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§´‡•á‡§≤ ‡§π‡•Å‡§Ü‡•§";
      }
    }

    function detectLanguage(text) {
      const hindiRegex = /[\u0900-\u097F]/;
      return hindiRegex.test(text) ? 'hi-IN' : 'en-US';
    }
  </script>
</body>
</html>
